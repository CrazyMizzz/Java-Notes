有一阵gc特别频繁，经常有full gc，minor gc也特别频繁，对业务的影响很大
然后我就被领导叫过去优化这个问题
一开始以为是垃圾回收器不行，于是把垃圾回收器从cms优化到g1
总体的gc情况好了很多，但是还是时不时的出现full gc
用Jstat看gc情况，用JMap Dump内存对象，用工具进行分析，存在大对象
根据对象和log排查代码位置
最后排查是因为sql where失效，导致了全量查询
最后在代码里加上一个不为空的查询，禁止不带参数的查询
